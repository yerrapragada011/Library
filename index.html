<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Library Exercise</title>
    <style>
      body {
        display: flex;
        flex-direction: column;
        gap: 25px;
        padding: 10px;
      }
      #books {
        display: flex;
        flex-direction: column;
        gap: 10px;
      }
      .list {
        display: flex;
        gap: 10px;
        align-items: center;
      }
      #addBook {
        width: 25%;
      }
    </style>
  </head>
  <body>
    <div id="books"></div>
    <button id="addBook">Add book</button>
    <script>
      const myLibrary = ['book1', 'book2', 'book3']

      const books = document.getElementById('books')

      function Book(title, author, pages, read) {
        this.title = title
        this.author = author
        this.pages = pages
        this.read = read
        this.info = function () {
          return `${this.title} by ${this.author}, ${this.pages} pages, ${this.read}.`
        }
      }

      function displayLibrary() {
        books.innerHTML = ''
        myLibrary.forEach((book, index) => {
          let bookElement = document.createElement('li')
          bookElement.classList.add('list')
          bookElement.textContent = book
          let deleteButton = document.createElement('button')
          deleteButton.textContent = 'delete'
          deleteButton.addEventListener('click', () => {
            deleteBook(index)
          })
          bookElement.appendChild(deleteButton)
          books.appendChild(bookElement)
        })
      }
      displayLibrary()

      function deleteBook(index) {
        myLibrary.splice(index, 1)
        displayLibrary()
      }

      const addBook = document.getElementById('addBook')
      addBook.addEventListener('click', () => {
        let title = prompt('Enter book tile: ')
        let author = prompt('Enter book author: ')
        let pages = +prompt('Enter book pages: ')
        let read = prompt('Have you read it?')
        const newBook = new Book(title, author, pages, read)
        myLibrary.push(JSON.stringify(newBook.info()))
        displayLibrary()
      })
    </script>
  </body>
</html>
